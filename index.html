<!DOCTYPE html>
<html lang="id">
    <head>
        <script src="https://quge5.com/88/tag.min.js" data-zone="192591" async data-cfasync="false">
        </script>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Downloader-AnyFiles: Platform unduhan cepat, aman, dan lancar jaya.">
        <title>Downloader anyfiles</title>
        <link rel="icon" href="/favicon.ico" type="image/x-icon">
        <style>
            body { 
                font-family: 'Segoe UI', Tahoma, Verdana, sans-serif; 
                text-align: center; 
                background: #f4f6f8; 
                padding: 20px; 
                margin: 0; 
            }
            .container { 
                background: white; 
                max-width: 600px; 
                margin: 40px auto; 
                padding: 30px; 
                border-radius: 12px; 
                box-shadow: 0 4px 15px rgba(0,0,0,0.1); 
                min-height: 300px; 
            }
            h2 { 
                color: #333; 
                margin-bottom: 20px; 
                font-size: 28px; 
            }
            .deskripsi {
                text-align: left;
                font-size: 15px;
                line-height: 1.6;
                color: #555;
                margin: 20px 0;
                padding: 0 10px;
            }
            /* AREA SLOT TOMBOL */
            #slot-atas, #slot-bawah {
                min-height: 70px; /* Jaga tinggi biar layout gak kaget */
                margin: 20px 0;
                display: flex;
                justify-content: center;
                align-items: center;
            }
            /* STYLE TOMBOL */
            #btn-aksi {
                display: inline-block;
                background: #007bff; /* Warna Biru */
                color: white;
                padding: 15px 45px;
                font-size: 20px;
                font-weight: bold;
                text-decoration: none;
                border-radius: 50px;
                transition: all 0.3s;
                cursor: pointer;
                border: none;
                box-shadow: 0 4px 10px rgba(0,123,255,0.3);
                user-select: none;
                animation: pulse 2s infinite; /* Efek denyut */
            }
            #btn-aksi:hover { 
                transform: translateY(-2px); 
                box-shadow: 0 6px 15px rgba(0,123,255,0.4); 
            }
            /* Tombol saat menghitung */
            #btn-aksi.lagi-ngitung { 
                background: #6c757d; 
                cursor: wait; 
                animation: none; 
                box-shadow: none;
            }
            /* Tombol saat siap (Hijau) */
            #btn-aksi.siap { 
                background: #28a745; 
                box-shadow: 0 4px 10px rgba(40,167,69,0.3); 
                animation: pulse 1s infinite;
            }
            .error { color: #dc3545; display: none; margin -top: 20px; font-weight: bold; }
            /* Animasi Denyut */
            @keyframes pulse {
                0% { transform: scale(1); }
                50% { transform: scale(1.05); }
                100% { transform: scale(1); }
            }
        </style>
    </head>
    <body>
        <div class="container">
            <h2 id="judul-file">Downloader-AnyFiles</h2>
            <div id="slot-atas">
                <a id="btn-aksi" href="#">( DOWNLOAD )</a>
            </div>
            <div class="deskripsi">
                <p>
                    Terima kasih telah mengunjungi <b>Downloader-AnyFiles</b>. Kami menyediakan akses unduhan cepat dan aman.
                    Silakan klik tombol download di atas untuk memulai verifikasi link.
                </p>
                <p>
                   Di sini, Anda bisa mendapatkan akses ke berbagai jenis file—mulai dari aplikasi, game modifikasi, dokumen, hingga media hiburan—secara gratis dan aman. Sistem kami secara otomatis memverifikasi ketersediaan file di server tujuan (seperti Sfile.mobi) sebelum Anda mengunduhnya, memastikan tautan yang Anda dapatkan bukanlah tautan rusak (<i>broken link</i>).
                </p>
                <p>
                    Sistem kami akan memeriksa keamanan file secara otomatis. Pastikan koneksi internet Anda stabil selama proses verifikasi berlangsung.
                </p>
                <script
                    async="async"
                   data-cfasync="false"
                   src="https://pl28247370.effectivegatecpm.com/82c4a6afb5cffec65ab7c60379805145/invoke.js">
                </script>
                <div id="container-82c4a6afb5cffec65ab7c60379805145"></div>
                <p style="margin-top: 10px;">
                    <i>File siap diunduh setelah verifikasi selesai.</i>
                </p>
            </div>
            <div id="slot-bawah"></div>
            <p id="pesan-error" class="error">404: Link  tidak ditemukan di database.</p>
        </div>
        <script src="data.js"></script>
        <script>
            // --- SETTING LINK IKLAN ---
            // Masukkan Link Direct/Smartlink Adsterra di sini
            const LINK_IKLAN = "https://www.effectivegatecpm.com/gx0zdw0qb?key=3a3eb4068f86e5917327ccad5722491e"; 

            // --- LOGIKA UTAMA ---
            let path = window.location.pathname; 
            let slug = path.replace("/", "").replace(".html", "");
            
            let btn = document.getElementById("btn-aksi");
            let slotBawah = document.getElementById("slot-bawah"); 
            let errorMsg = document.getElementById("pesan-error");
            let judul = document.getElementById("judul-file");
            
            let linkTujuan = "";
            let tombolMasihDiatas = true;
            let sedangMenghitung = false; 
            let sudahSiap = false;

            // Cek Database (Pastikan data.js sudah ada isinya)
            if(slug === "" || slug === "index") {
                judul.innerText = "Selamat Datang";
                btn.style.display = "none";
                document.querySelector('.deskripsi').style.display = "none"; 
            } 
            else if (typeof database_link !== 'undefined' && database_link[slug]) {
                linkTujuan = database_link[slug];
            } 
            else {
                // Jika database belum load atau link tidak ada, tetap tampilkan error
                // (Kecuali kamu mau hardcode link untuk tes)
                if (typeof database_link === 'undefined') {
                    console.log("Database belum dimuat");
                }
                btn.style.display = "none";
                errorMsg.style.display = "block";
                judul.innerText = "File Tidak Ditemukan";
                document.querySelector('.deskripsi').style.display = "none";
            }

            // KLIK TOMBOL
            btn.addEventListener("click", function(e) {
                e.preventDefault(); // Matikan fungsi link bawaan

                // FASE 1: Klik Pertama (Buka Iklan + Mulai Timer)
                if (tombolMasihDiatas) {
                    
                    // A. Buka Iklan di Tab Baru
                    window.open(LINK_IKLAN, '_blank');

                    // B. Pindahkan Tombol & Mulai Timer di Tab Ini
                    slotBawah.appendChild(btn); 
                    tombolMasihDiatas = false;
                    
                    // Scroll ke bawah agar user sadar tombolnya pindah
                    btn.scrollIntoView({behavior: "smooth", block: "center"});
                    
                    // Langsung jalankan timer
                    mulaiHitungMundur();
                }
                // FASE 2: Timer Masih Jalan -> Tombol gak bisa dipencet
                else if (!sudahSiap) {
                    return; 
                }
                // FASE 3: Timer Selesai -> Langsung ke File Asli
                else {
                    window.location.href = linkTujuan;
                }
            });

            function mulaiHitungMundur() {
                sedangMenghitung = true;
                btn.classList.add("lagi-ngitung"); 
                let detik = 10; // Durasi hitung mundur
                btn.innerText = `Please Wait... ${detik}`;
                
                let timer = setInterval(function() {
                    detik--;
                    if (detik > 0) {
                        btn.innerText = `Please Wait... ${detik}`;
                    } else {
                        clearInterval(timer);
                        berubahJadiLink();
                    }
                }, 1000); 
            }

            function berubahJadiLink() {
                sudahSiap = true; 
                btn.classList.remove("lagi-ngitung");
                btn.classList.add("siap"); 
                btn.innerText = "GO TO LINK >>";
                // Link tujuan sudah diset di logika 'click' Fase 3
            }
        </script>
    </body>
</html>
